---
title: podman使用总结
name: Z.C Yang
date: 2025-08-31 10:00:00 -0500
categories: [容器技术]
tags: [podman]
---

## mysql安装

打开podman交互界面方式：
- 在windows teminal中找到podman-machine-default下拉进入
- 在terminal输入wsl相关命令:
```shell
wsl -d podman-machine-default
```

### 拉取mysql镜像

```shell
podman pull mysql:8.0
```

查看本地镜像是否拉取成功:
```shell
podman images
```

### 准备mysql持久化目录

在宿主机上创建目录，用于挂载到 MySQL 容器中，以实现数据的持久化存储，防止容器删除后数据丢失。

```shell
sudo mkdir -p ~/mysql8/{etc/mysql/conf.d,logs,data,mysql-files}
```

检查目录结构，使用ls -R 命令递归查看目录:
```shell
ls -R ~/mysql8
```

### 创建mysql容器

- 执行podman run命令创建容器

```shell
podman run -p 3306:3306 \
		-e MYSQL_ROOT_PASSWORD=root \
		-v /home/user/mysql8/etc/mysql:/etc/mysql:rw \
		-v /home/user/mysql8/data:/var/lib/mysql:rw \
		-v /home/user/mysql8/log:/var/log/mysql:rw \
		-v /home/user/mysql8/mysql-files:/var/lib/mysql-files:rw \
		--name mysql8 \
		docker.io/library/mysql:8
```

- 检查容器运行状态
```shell
podman ps -a
```

### 配置mysql远程连接

- 进行mysql容器
```shell
podman exec -it mysql8 /bin/bash
```

- 登录mysql
```shell
mysql -uroot -p
```

### 执行授权命令

```shell

-- 授权root用户在所有数据库上的所有权限，并允许其从任何主机连接
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' WITH GRANT OPTION;

-- 刷新权限，使更改立即生效
FLUSH PRIVILEGES;
```

## redis安装

### 拉取redis镜像并安装

```shell
docker run -p 6379:6379 -d redis:latest redis-server
```


## 参考文章
[podman windows安装指南](https://github.com/containers/podman/blob/main/docs/tutorials/podman-for-windows.md)
[使用podman创建Mysql镜像容器](https://www.cnblogs.com/mhzch/p/19026819)
